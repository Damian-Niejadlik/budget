{% extends 'balance/base.html' %}
{% block site_title %} Expenses {% endblock %}

{% block content %}

<div class="header text-center">
    <p>
    <h1>Expense list view</h1></p>
</div>

<div class="filter text-center">
    <form method="GET">
        {{ filter.form }}
        <p>
        <div class="filter-buttons text-center">
            <button type="submit" class="btn btn-warning">Filter</button>
            <button onclick="location.href='{% url 'expense_list' %}'" type="button" class="btn btn-warning">Clear all
                filters
            </button>
        </div>
        </p>

    </form>
</div>

<table class="table table-striped table-hover">
    <thead>
    <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Category</th>
        <th>Expense date</th>
    </tr>
    </thead>
    <tbody>
    {% for expense in filter.qs %}
    <tr>
        <td><a href="{% url 'expense_detail' expense.id%}">{{ expense.expense_name }}</a></td>
        <td> {{ expense.expense_value }}</td>
        <td> {{ expense.expense_category }}</td>
        <td> {{ expense.expense_date|date:"Y-m-d H:i" }}</td>
    </tr>
    {% empty %}
    No results found
    {% endfor %}
    </tbody>
</table>
</div>

<div class="results">
    <div class="row">
        <div class="col-sm-6">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Results found</h5>
                    <p class="card-text">{{ results_count }}</p>
                </div>
            </div>
        </div>
        <div class="col-sm-6">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Results value</h5>
                    <p class="card-text">{{ results_value }} PLN</p>
                </div>
            </div>
        </div>
    </div>
</div>

<p>
<div class="bottom-buttons text-center">
    <button onclick="location.href='{% url 'expense_create' %}'" type="button" class="btn btn-warning">Add expense
    </button>
    <button onclick="location.href='{% url 'expense_category_create' %}'" type="button" class="btn btn-warning">Add new
        category
    </button>
</div></p>

<p>
<div class="main-menu-button text-center">
    <button onclick="location.href='#'" type="button" class="btn btn-primary">Back to main menu</button>
</div></p>

{% endblock content %}